import { CancellationTokenSource } from '../../../../base/common/cancellation';
import './renameInputField.css';
import { ContentWidgetPositionPreference, ICodeEditor, IContentWidget, IContentWidgetPosition } from '../../../browser/editorBrowser';
import { IDimension } from '../../../common/core/dimension';
import { IRange } from '../../../common/core/range';
import { NewSymbolName, ProviderResult } from '../../../common/languages';
import { IContextKeyService, RawContextKey } from '../../../../platform/contextkey/common/contextkey';
import { IKeybindingService } from '../../../../platform/keybinding/common/keybinding';
import { ILogService } from '../../../../platform/log/common/log';
import { IThemeService } from '../../../../platform/theme/common/themeService';
export declare const CONTEXT_RENAME_INPUT_VISIBLE: RawContextKey<boolean>;
export declare const CONTEXT_RENAME_INPUT_FOCUSED: RawContextKey<boolean>;
export interface RenameInputFieldResult {
    newName: string;
    wantsPreview?: boolean;
    source: 'inputField' | 'renameSuggestion';
    nRenameSuggestions: number;
}
export declare class RenameInputField implements IContentWidget {
    private readonly _editor;
    private readonly _acceptKeybindings;
    private readonly _themeService;
    private readonly _keybindingService;
    private readonly _logService;
    private _position?;
    private _domNode?;
    private _input?;
    private _candidatesView?;
    private _label?;
    private _visible?;
    private _nPxAvailableAbove?;
    private _nPxAvailableBelow?;
    private readonly _visibleContextKey;
    private readonly _focusedContextKey;
    private readonly _disposables;
    readonly allowEditorOverflow: boolean;
    constructor(_editor: ICodeEditor, _acceptKeybindings: [string, string], _themeService: IThemeService, _keybindingService: IKeybindingService, contextKeyService: IContextKeyService, _logService: ILogService);
    dispose(): void;
    getId(): string;
    getDomNode(): HTMLElement;
    private _updateStyles;
    private _updateFont;
    private _computeLabelFontSize;
    getPosition(): IContentWidgetPosition | null;
    beforeRender(): IDimension | null;
    afterRender(position: ContentWidgetPositionPreference | null): void;
    private _currentAcceptInput?;
    private _currentCancelInput?;
    acceptInput(wantsPreview: boolean): void;
    cancelInput(focusEditor: boolean, caller: string): void;
    focusNextRenameSuggestion(): void;
    focusPreviousRenameSuggestion(): void;
    /**
     * @returns a `boolean` standing for `shouldFocusEditor`, if user didn't pick a new name, or a {@link RenameInputFieldResult}
     */
    getInput(where: IRange, value: string, selectionStart: number, selectionEnd: number, supportPreview: boolean, candidates: ProviderResult<NewSymbolName[]>[], cts: CancellationTokenSource): Promise<RenameInputFieldResult | boolean>;
    private _show;
    private _updateRenameCandidates;
    private _hide;
    private _getTopForPosition;
    private _trace;
}
