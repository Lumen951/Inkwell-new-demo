{"version":3,"sources":["vs/editor/browser/widget/diffEditor/components/diffEditorEditors.ts"],"names":[],"mappings":"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","file":"diffEditorEditors.js","sourceRoot":"file:///workspaces/monaco-editor-core/out-editor-esm","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Emitter } from '../../../../../base/common/event';\nimport { Disposable } from '../../../../../base/common/lifecycle';\nimport { IObservable, IReader, autorunHandleChanges, derivedOpts, observableFromEvent } from '../../../../../base/common/observable';\nimport { IEditorConstructionOptions } from '../../../config/editorConfiguration';\nimport { IDiffEditorConstructionOptions } from '../../../editorBrowser';\nimport { CodeEditorWidget, ICodeEditorWidgetOptions } from '../../codeEditorWidget';\nimport { OverviewRulerFeature } from '../features/overviewRulerFeature';\nimport { EditorOptions, IEditorOptions } from '../../../../common/config/editorOptions';\nimport { IContentSizeChangedEvent } from '../../../../common/editorCommon';\nimport { localize } from '../../../../../nls';\nimport { IInstantiationService } from '../../../../../platform/instantiation/common/instantiation';\nimport { IKeybindingService } from '../../../../../platform/keybinding/common/keybinding';\nimport { DiffEditorOptions } from '../diffEditorOptions';\nimport { ITextModel } from '../../../../common/model';\nimport { IDiffCodeEditorWidgetOptions } from '../diffEditorWidget';\nimport { Selection } from '../../../../common/core/selection';\nimport { Position } from '../../../../common/core/position';\n\nexport class DiffEditorEditors extends Disposable {\n\tpublic readonly modified: CodeEditorWidget;\n\tpublic readonly original: CodeEditorWidget;\n\n\tprivate readonly _onDidContentSizeChange = this._register(new Emitter<IContentSizeChangedEvent>());\n\tpublic get onDidContentSizeChange() { return this._onDidContentSizeChange.event; }\n\n\tpublic readonly modifiedScrollTop: IObservable<number>;\n\tpublic readonly modifiedScrollHeight: IObservable<number>;\n\n\tpublic readonly modifiedModel: IObservable<ITextModel | null>;\n\n\tpublic readonly modifiedSelections: IObservable<Selection[]>;\n\tpublic readonly modifiedCursor: IObservable<Position>;\n\n\tpublic readonly originalCursor: IObservable<Position>;\n\n\tconstructor(\n\t\tprivate readonly originalEditorElement: HTMLElement,\n\t\tprivate readonly modifiedEditorElement: HTMLElement,\n\t\tprivate readonly _options: DiffEditorOptions,\n\t\tcodeEditorWidgetOptions: IDiffCodeEditorWidgetOptions,\n\t\tprivate readonly _createInnerEditor: (instantiationService: IInstantiationService, container: HTMLElement, options: Readonly<IEditorOptions>, editorWidgetOptions: ICodeEditorWidgetOptions) => CodeEditorWidget,\n\t\t@IInstantiationService private readonly _instantiationService: IInstantiationService,\n\t\t@IKeybindingService private readonly _keybindingService: IKeybindingService,\n\t) {\n\t\tsuper();\n\n\t\tthis.original = this._register(this._createLeftHandSideEditor(_options.editorOptions.get(), codeEditorWidgetOptions.originalEditor || {}));\n\t\tthis.modified = this._register(this._createRightHandSideEditor(_options.editorOptions.get(), codeEditorWidgetOptions.modifiedEditor || {}));\n\n\t\tthis.modifiedModel = observableFromEvent(this.modified.onDidChangeModel, () => /** @description modified.model */ this.modified.getModel());\n\n\t\tthis.modifiedScrollTop = observableFromEvent(this.modified.onDidScrollChange, () => /** @description modified.getScrollTop */ this.modified.getScrollTop());\n\t\tthis.modifiedScrollHeight = observableFromEvent(this.modified.onDidScrollChange, () => /** @description modified.getScrollHeight */ this.modified.getScrollHeight());\n\n\t\tthis.modifiedSelections = observableFromEvent(this.modified.onDidChangeCursorSelection, () => this.modified.getSelections() ?? []);\n\t\tthis.modifiedCursor = derivedOpts({ owner: this, equalityComparer: Position.equals }, reader => this.modifiedSelections.read(reader)[0]?.getPosition() ?? new Position(1, 1));\n\n\t\tthis.originalCursor = observableFromEvent(this.original.onDidChangeCursorPosition, () => this.original.getPosition() ?? new Position(1, 1));\n\n\t\tthis._register(autorunHandleChanges({\n\t\t\tcreateEmptyChangeSummary: () => ({} as IDiffEditorConstructionOptions),\n\t\t\thandleChange: (ctx, changeSummary) => {\n\t\t\t\tif (ctx.didChange(_options.editorOptions)) {\n\t\t\t\t\tObject.assign(changeSummary, ctx.change.changedOptions);\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}, (reader, changeSummary) => {\n\t\t\t/** @description update editor options */\n\t\t\t_options.editorOptions.read(reader);\n\n\t\t\tthis._options.renderSideBySide.read(reader);\n\n\t\t\tthis.modified.updateOptions(this._adjustOptionsForRightHandSide(reader, changeSummary));\n\t\t\tthis.original.updateOptions(this._adjustOptionsForLeftHandSide(reader, changeSummary));\n\t\t}));\n\t}\n\n\tprivate _createLeftHandSideEditor(options: Readonly<IDiffEditorConstructionOptions>, codeEditorWidgetOptions: ICodeEditorWidgetOptions): CodeEditorWidget {\n\t\tconst leftHandSideOptions = this._adjustOptionsForLeftHandSide(undefined, options);\n\t\tconst editor = this._constructInnerEditor(this._instantiationService, this.originalEditorElement, leftHandSideOptions, codeEditorWidgetOptions);\n\t\teditor.setContextValue('isInDiffLeftEditor', true);\n\t\treturn editor;\n\t}\n\n\tprivate _createRightHandSideEditor(options: Readonly<IDiffEditorConstructionOptions>, codeEditorWidgetOptions: ICodeEditorWidgetOptions): CodeEditorWidget {\n\t\tconst rightHandSideOptions = this._adjustOptionsForRightHandSide(undefined, options);\n\t\tconst editor = this._constructInnerEditor(this._instantiationService, this.modifiedEditorElement, rightHandSideOptions, codeEditorWidgetOptions);\n\t\teditor.setContextValue('isInDiffRightEditor', true);\n\t\treturn editor;\n\t}\n\n\tprivate _constructInnerEditor(instantiationService: IInstantiationService, container: HTMLElement, options: Readonly<IEditorConstructionOptions>, editorWidgetOptions: ICodeEditorWidgetOptions): CodeEditorWidget {\n\t\tconst editor = this._createInnerEditor(instantiationService, container, options, editorWidgetOptions);\n\n\t\tthis._register(editor.onDidContentSizeChange(e => {\n\t\t\tconst width = this.original.getContentWidth() + this.modified.getContentWidth() + OverviewRulerFeature.ENTIRE_DIFF_OVERVIEW_WIDTH;\n\t\t\tconst height = Math.max(this.modified.getContentHeight(), this.original.getContentHeight());\n\n\t\t\tthis._onDidContentSizeChange.fire({\n\t\t\t\tcontentHeight: height,\n\t\t\t\tcontentWidth: width,\n\t\t\t\tcontentHeightChanged: e.contentHeightChanged,\n\t\t\t\tcontentWidthChanged: e.contentWidthChanged\n\t\t\t});\n\t\t}));\n\t\treturn editor;\n\t}\n\n\tprivate _adjustOptionsForLeftHandSide(_reader: IReader | undefined, changedOptions: Readonly<IDiffEditorConstructionOptions>): IEditorConstructionOptions {\n\t\tconst result = this._adjustOptionsForSubEditor(changedOptions);\n\t\tif (!this._options.renderSideBySide.get()) {\n\t\t\t// never wrap hidden editor\n\t\t\tresult.wordWrapOverride1 = 'off';\n\t\t\tresult.wordWrapOverride2 = 'off';\n\t\t\tresult.stickyScroll = { enabled: false };\n\n\t\t\t// Disable unicode highlighting for the original side in inline mode, as they are not shown anyway.\n\t\t\tresult.unicodeHighlight = { nonBasicASCII: false, ambiguousCharacters: false, invisibleCharacters: false };\n\t\t} else {\n\t\t\tresult.unicodeHighlight = this._options.editorOptions.get().unicodeHighlight || {};\n\t\t\tresult.wordWrapOverride1 = this._options.diffWordWrap.get();\n\t\t}\n\t\tresult.glyphMargin = this._options.renderSideBySide.get();\n\n\t\tif (changedOptions.originalAriaLabel) {\n\t\t\tresult.ariaLabel = changedOptions.originalAriaLabel;\n\t\t}\n\t\tresult.ariaLabel = this._updateAriaLabel(result.ariaLabel);\n\t\tresult.readOnly = !this._options.originalEditable.get();\n\t\tresult.dropIntoEditor = { enabled: !result.readOnly };\n\t\tresult.extraEditorClassName = 'original-in-monaco-diff-editor';\n\t\treturn result;\n\t}\n\n\tprivate _adjustOptionsForRightHandSide(reader: IReader | undefined, changedOptions: Readonly<IDiffEditorConstructionOptions>): IEditorConstructionOptions {\n\t\tconst result = this._adjustOptionsForSubEditor(changedOptions);\n\t\tif (changedOptions.modifiedAriaLabel) {\n\t\t\tresult.ariaLabel = changedOptions.modifiedAriaLabel;\n\t\t}\n\t\tresult.ariaLabel = this._updateAriaLabel(result.ariaLabel);\n\t\tresult.wordWrapOverride1 = this._options.diffWordWrap.get();\n\t\tresult.revealHorizontalRightPadding = EditorOptions.revealHorizontalRightPadding.defaultValue + OverviewRulerFeature.ENTIRE_DIFF_OVERVIEW_WIDTH;\n\t\tresult.scrollbar!.verticalHasArrows = false;\n\t\tresult.extraEditorClassName = 'modified-in-monaco-diff-editor';\n\t\treturn result;\n\t}\n\n\tprivate _adjustOptionsForSubEditor(options: Readonly<IDiffEditorConstructionOptions>): IEditorConstructionOptions {\n\t\tconst clonedOptions = {\n\t\t\t...options,\n\t\t\tdimension: {\n\t\t\t\theight: 0,\n\t\t\t\twidth: 0\n\t\t\t},\n\t\t};\n\t\tclonedOptions.inDiffEditor = true;\n\t\tclonedOptions.automaticLayout = false;\n\n\t\t// Clone scrollbar options before changing them\n\t\tclonedOptions.scrollbar = { ...(clonedOptions.scrollbar || {}) };\n\t\tclonedOptions.folding = false;\n\t\tclonedOptions.codeLens = this._options.diffCodeLens.get();\n\t\tclonedOptions.fixedOverflowWidgets = true;\n\n\t\t// Clone minimap options before changing them\n\t\tclonedOptions.minimap = { ...(clonedOptions.minimap || {}) };\n\t\tclonedOptions.minimap.enabled = false;\n\n\t\tif (this._options.hideUnchangedRegions.get()) {\n\t\t\tclonedOptions.stickyScroll = { enabled: false };\n\t\t} else {\n\t\t\tclonedOptions.stickyScroll = this._options.editorOptions.get().stickyScroll;\n\t\t}\n\t\treturn clonedOptions;\n\t}\n\n\tprivate _updateAriaLabel(ariaLabel: string | undefined): string | undefined {\n\t\tif (!ariaLabel) {\n\t\t\tariaLabel = '';\n\t\t}\n\t\tconst ariaNavigationTip = localize('diff-aria-navigation-tip', ' use {0} to open the accessibility help.', this._keybindingService.lookupKeybinding('editor.action.accessibilityHelp')?.getAriaLabel());\n\t\tif (this._options.accessibilityVerbose.get()) {\n\t\t\treturn ariaLabel + ariaNavigationTip;\n\t\t} else if (ariaLabel) {\n\t\t\treturn ariaLabel.replaceAll(ariaNavigationTip, '');\n\t\t}\n\t\treturn '';\n\t}\n}\n"]}